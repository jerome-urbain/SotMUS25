
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../01_setup/">
      
      
        <link rel="next" href="../03_postgis/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.14">
    
    
      
        <title>02 - Docker - How to put an entire count(r)y in a container - State of the Map US Workshop - June 2025 - Boston</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.342714a4.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#docker-survival-kit" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="How to put an entire count(r)y in a container - State of the Map US Workshop - June 2025 - Boston" class="md-header__button md-logo" aria-label="How to put an entire count(r)y in a container - State of the Map US Workshop - June 2025 - Boston" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            How to put an entire count(r)y in a container - State of the Map US Workshop - June 2025 - Boston
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              02 - Docker
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="How to put an entire count(r)y in a container - State of the Map US Workshop - June 2025 - Boston" class="md-nav__button md-logo" aria-label="How to put an entire count(r)y in a container - State of the Map US Workshop - June 2025 - Boston" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    How to put an entire count(r)y in a container - State of the Map US Workshop - June 2025 - Boston
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Intro
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../01_setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    01 - Setup
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    02 - Docker
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    02 - Docker
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#docker-container" class="md-nav__link">
    <span class="md-ellipsis">
      Docker container
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#docker-image" class="md-nav__link">
    <span class="md-ellipsis">
      Docker image
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#container-properties" class="md-nav__link">
    <span class="md-ellipsis">
      Container properties
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#docker-hub" class="md-nav__link">
    <span class="md-ellipsis">
      Docker Hub
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hello-world-and-docker-basic-commands" class="md-nav__link">
    <span class="md-ellipsis">
      Hello world and docker basic commands
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Hello world and docker basic commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#docker-pull" class="md-nav__link">
    <span class="md-ellipsis">
      Docker pull
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#docker-ps" class="md-nav__link">
    <span class="md-ellipsis">
      Docker ps
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#docker-run" class="md-nav__link">
    <span class="md-ellipsis">
      Docker run
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#docker-start" class="md-nav__link">
    <span class="md-ellipsis">
      Docker start
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#docker-stop" class="md-nav__link">
    <span class="md-ellipsis">
      Docker stop
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#docker-rm" class="md-nav__link">
    <span class="md-ellipsis">
      Docker rm
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#docker-exec" class="md-nav__link">
    <span class="md-ellipsis">
      Docker exec
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bonus-dockerfile" class="md-nav__link">
    <span class="md-ellipsis">
      BONUS: Dockerfile
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#docker-volumes" class="md-nav__link">
    <span class="md-ellipsis">
      Docker Volumes
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#docker-compose" class="md-nav__link">
    <span class="md-ellipsis">
      Docker Compose
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../03_postgis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    03 - PostGIS
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../04_imposm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    04 - Imposm
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../05_postgis_imposm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    05 - PostGIS & Imposm
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../06_interact_with_data/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    06 - Interacting with our Data
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../07_docker_stack/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    07 - docker stack
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../08_conclusion/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Conclusion
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#docker-container" class="md-nav__link">
    <span class="md-ellipsis">
      Docker container
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#docker-image" class="md-nav__link">
    <span class="md-ellipsis">
      Docker image
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#container-properties" class="md-nav__link">
    <span class="md-ellipsis">
      Container properties
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#docker-hub" class="md-nav__link">
    <span class="md-ellipsis">
      Docker Hub
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hello-world-and-docker-basic-commands" class="md-nav__link">
    <span class="md-ellipsis">
      Hello world and docker basic commands
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Hello world and docker basic commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#docker-pull" class="md-nav__link">
    <span class="md-ellipsis">
      Docker pull
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#docker-ps" class="md-nav__link">
    <span class="md-ellipsis">
      Docker ps
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#docker-run" class="md-nav__link">
    <span class="md-ellipsis">
      Docker run
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#docker-start" class="md-nav__link">
    <span class="md-ellipsis">
      Docker start
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#docker-stop" class="md-nav__link">
    <span class="md-ellipsis">
      Docker stop
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#docker-rm" class="md-nav__link">
    <span class="md-ellipsis">
      Docker rm
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#docker-exec" class="md-nav__link">
    <span class="md-ellipsis">
      Docker exec
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bonus-dockerfile" class="md-nav__link">
    <span class="md-ellipsis">
      BONUS: Dockerfile
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#docker-volumes" class="md-nav__link">
    <span class="md-ellipsis">
      Docker Volumes
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#docker-compose" class="md-nav__link">
    <span class="md-ellipsis">
      Docker Compose
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="docker-survival-kit"><span style="color:#66C3FF">Docker survival kit<span></h1>
<p>Below you'll find some commands and explanations for your docker survival kit at this workshop.</p>
<p>If you're already a power user and familiar with these concepts, you can continue with the next chapter.</p>
<p>If, on the other hand, you're a novice but still want to delve deeper into the concepts after this workshop, I urge you to take a look at the docker documentation: https://docs.docker.com/</p>
<p>Let's get started!</p>
<hr />
<h2 id="docker-container"><span style="color:#66C3FF">Docker container<span></h2>
<hr />
<p>A docker container is a <strong>sandboxed process</strong> running on a host machine that is <strong>isolated from all other processes</strong> running on that host machine.</p>
<hr />
<h2 id="docker-image"><span style="color:#66C3FF">Docker image<span></h2>
<hr />
<p>A running container uses an isolated filesystem. This <strong>isolated filesystem</strong> is provided by an image, and the image must <strong>contain everything needed to run an application</strong>:</p>
<ul>
<li>dependencies, </li>
<li>configurations, </li>
<li>scripts, </li>
<li>binaries, </li>
<li>etc. </li>
</ul>
<p>The image also contains other configurations for the container, such as </p>
<ul>
<li>environment variables, </li>
<li>a default command to run, </li>
<li>other metadata.</li>
</ul>
<hr />
<h2 id="container-properties"><span style="color:#66C3FF">Container properties<span></h2>
<hr />
<p>A container </p>
<ul>
<li>Is a <strong>runnable instance of an image</strong>. You can create, start, stop, move, or delete a container using the Docker API or CLI.</li>
<li>Can be run on local machines, virtual machines, or deployed to the cloud.</li>
<li>Is <strong>portable</strong> (and can be run on any OS).</li>
<li>Is <strong>isolated from other containers</strong> and runs its own software, binaries, configurations, etc.</li>
</ul>
<hr />
<h2 id="docker-hub"><span style="color:#66C3FF">Docker Hub<span></h2>
<hr />
<p>Docker Hub is the world's largest library and community for container images ( https://hub.docker.com/ ).</p>
<div align="center">
<img src="../figures/docker_hub.png" alt="docker_hub" width="75%">
</div>

<p>You can directly get official docker images or computed by the community.</p>
<hr />
<h2 id="hello-world-and-docker-basic-commands"><span style="color:#66C3FF">Hello world and docker basic commands<span></h2>
<hr />
<h3 id="docker-pull"><span style="color:#66C3FF">Docker pull<span></h3>
<p>This command is used to download a docker image from a registry, such as Docker Hub, to your local system.</p>
<p>You can try to run the following command to pull your first docker image:</p>
<pre><code class="language-bash">docker pull hello-world
</code></pre>
<p>You can now try to pull another image which will be used later in this workshop session: a postgresql (version 17) database with postgis extension (version 3.5).</p>
<pre><code class="language-bash">docker pull postgis/postgis:17-3.5
</code></pre>
<p>To prepare for the Workshop, you can also already pull the Imposm image:</p>
<pre><code class="language-bash">docker pull geopostcodes/imposm:1.2
</code></pre>
<h3 id="docker-ps"><span style="color:#66C3FF">Docker ps<span></h3>
<p>This command shows the <strong>list of currently running containers</strong> along with their details, such as container ID, names, and status.</p>
<pre><code class="language-bash">docker ps
</code></pre>
<p>If you add the <code>--all</code> parameter, you will also see stopped containers:</p>
<pre><code class="language-bash">docker ps --all
</code></pre>
<h3 id="docker-run"><span style="color:#66C3FF">Docker run<span></h3>
<p>This command__creates and runs a new Docker container__ based on a specified image. It can also be used to specify various options and settings for the container.</p>
<p>If you try now to instanciate the hello-world image previously pulled:</p>
<pre><code class="language-bash">docker run hello-world
</code></pre>
<p>You should see some kind words (coming from docker team) in the container logs! ;-)</p>
<p>If you check the list of active containers, you will discover that docker assign a random (fancy) name to your container. To avoid this and easily keep track of your docker containers, you can add a <code>--name</code> parameter.</p>
<p>Here is another docker run example related to our workshop: a postgis container with a custom setup:</p>
<pre><code class="language-bash">docker run --name postgis_sotm -p 5482:5432 -e POSTGRES_PASSWORD=postgres -d postgis/postgis:17-3.5
</code></pre>
<p>You can see that we specify a particular name for the container (postgis_sotm), handle the port forwarding, set environement variables (postgres database user password), run in background (-d), version of Postgresql (17) and finally the version of Postgis (3.5).</p>
<p>Everything in 1 single command and deployed in only few seconds!
Impressive, isn't it?!</p>
<h3 id="docker-start"><span style="color:#66C3FF">Docker start<span></h3>
<p>This command is used to <strong>start one or more stopped containers</strong>, allowing them to run in the background.</p>
<p>If your postgis_sotm container is not running (TIP: check it with <code>docker ps</code> command), you can start it with the following command:</p>
<pre><code class="language-bash">docker start postgis_sotm 
</code></pre>
<h3 id="docker-stop"><span style="color:#66C3FF">Docker stop<span></h3>
<p>This command is used to <strong>stop one or more running containers</strong>, pausing their execution.</p>
<p>If your postgis_sotm container is running (TIP: check it with <code>docker ps</code> command), you can stop it with the following command:</p>
<pre><code class="language-bash">docker stop postgis_sotm 
</code></pre>
<h3 id="docker-rm"><span style="color:#66C3FF">Docker rm<span></h3>
<p>This command removes one or more stopped containers from your system. Containers must be stopped before they can be removed.</p>
<pre><code class="language-bash">docker rm postgis_sotm
</code></pre>
<pre><code>If you removed your postgis_sotm with the previous command, don't forget to recreate it for the next exercices! ;-) 
</code></pre>
<h3 id="docker-exec"><span style="color:#66C3FF">Docker exec<span></h3>
<p>This command allows you to run a command inside a running container. It provides a way to execute commands in an already running container without the need to start a new shell session.</p>
<p>If we want to access a bash terminal in the previous postgis container, we can run:</p>
<pre><code class="language-bash">docker exec -it postgis_sotm bash
</code></pre>
<hr />
<h2 id="bonus-dockerfile"><span style="color:#66C3FF">BONUS: Dockerfile<span></h2>
<hr />
<p><span style="color:red"><strong>We won't be using dockerfiles during this workshop, just pre-built images available on the Docker Hub. This section is here for your information.</strong><span></p>
<p>A Dockerfile is a text-based file with no file extention that contains a <strong>script of instructions</strong>.
Docker uses this script to <strong>build a container image</strong>.</p>
<p>Here is an example of Dockerfile for an imposm image (built by GeoPostcodes team)</p>
<pre><code class="language-Dockerfile"># docker build --platform linux/amd64,linux/arm64 -t geopostcodes/imposm:1 --push .
FROM debian:latest

# don't use root as the running user
RUN groupadd -g 999 imposm &amp;&amp; \
    useradd -r -u 999 -g imposm imposm

# Install base utilities
RUN apt-get update &amp;&amp; \
    apt-get install -y wget &amp;&amp; \
    apt-get install -y tar gzip &amp;&amp; \
    apt-get clean &amp;&amp; \
    rm -rf /var/lib/apt/lists/*

# install imposm
USER 999
WORKDIR /usr/app
RUN wget --quiet https://github.com/omniscale/imposm3/releases/download/v0.11.1/imposm-0.11.1-linux-x86-64.tar.gz &amp;&amp; \
    tar -xf imposm-0.11.1-linux-x86-64.tar.gz &amp;&amp; \
    mv ./imposm-0.11.1-linux-x86-64/* . &amp;&amp; \
    rm -rf ./imposm-0.11.1-linux-x86-64 &amp;&amp; \
    rm imposm-0.11.1-linux-x86-64.tar.gz

</code></pre>
<p>You can see that a Dockerfile is composed of adapted linux commands such as <code>groupadd</code>, <code>wget</code>, <code>apt-get</code>, <code>rm</code> etc. to prepare the image based on a linux dockerized OS such as Debian, Alpine or Ubuntu for example.</p>
<p>To build an image from a Dockerfile and with a tag, you can run a command similar to the following in your Dockerfile folder location:</p>
<pre><code class="language-bash">docker build -t my-image-tag .
</code></pre>
<hr />
<h2 id="docker-volumes"><span style="color:#66C3FF">Docker Volumes<span></h2>
<hr />
<p>A Docker volume is a persistent data storage mechanism that allows containers to store and share data independently from the container lifecycle. Volumes provide a way to persist data even if the container that created them no longer exists. They are used to store files, databases, or any other type of data that containers need to read from or write to during their lifetime. </p>
<p>By using volumes, developers can <strong>separate the concerns of storage from the application logic</strong>, making it easier to maintain, update, and scale containerized applications without losing critical data when containers are removed or replaced.</p>
<hr />
<h2 id="docker-compose"><span style="color:#66C3FF">Docker Compose<span></h2>
<hr />
<p>A <code>docker-compose.yml</code> file is a configuration file used to define and manage <strong>multi-container Docker applications</strong>. It allows you to <strong>specify the services, networks, and volumes required</strong> for your application in a declarative manner. In a docker-compose file, you can define multiple services, each representing a containerized application component. These services can be configured with various options, including Docker images, environment variables, ports, volumes, and dependencies. By using a docker-compose file, you can <strong>define the entire application stack, its relationships, and configurations in one centralized place</strong>. </p>
<p>When you run docker-compose up, Docker Compose reads the configuration from the file and starts the specified services, creating the necessary containers, networks, and volumes based on the defined configurations. This simplifies the process of managing complex applications by enabling you to launch and scale multi-container setups with a single command, making it easier to develop, test, and deploy applications in different environments.</p>
<p>In your <code>docker-compose.yml</code> folder location, you can deploy it by running the following command:</p>
<pre><code class="language-bash">docker-compose up
</code></pre>
<p>If you want to remove the previous containers version before starting a new setup, you can use the <code>docker-compose down</code> command. This command stops and removes the containers defined in your <code>docker-compose.yml</code> file:</p>
<pre><code class="language-bash">docker-compose down
</code></pre>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../01_setup/" class="md-footer__link md-footer__link--prev" aria-label="Previous: 01 - Setup">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                01 - Setup
              </div>
            </div>
          </a>
        
        
          
          <a href="../03_postgis/" class="md-footer__link md-footer__link--next" aria-label="Next: 03 - PostGIS">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                03 - PostGIS
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["navigation.footer"], "search": "../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.13a4f30d.min.js"></script>
      
    
  </body>
</html>